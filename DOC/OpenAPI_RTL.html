<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>توثيق API — عرض احترافي (OpenAPI)</title>
  <link rel="icon" href="../assets/img/favicon.ico">
  <style>
    :root {
      --brand: #6e0303;
      --ink: #222;
      --bg: #f7f7f9;
      --card: #ffffff;
    }
    @font-face {
      font-family: 'NotoKufiArabic';
      src: url('../assets/fonts/ArbFonts.com/ArbFONTS-NotoKufiArabic-VariableFont_wght.ttf') format('truetype');
      font-weight: 100 900; font-style: normal; font-display: swap;
    }
    body { margin: 0; background: var(--bg); color: var(--ink); font-family: 'NotoKufiArabic', system-ui, -apple-system, "Segoe UI", Tahoma, Arial, sans-serif; }
    header { background: var(--brand); color: #fff; padding: 12px 16px; }
    header h1 { margin: 0; font-size: 1.15rem; }
    .container { width: 100%; margin: 0; background: var(--card); }
    .toolbar { display: flex; align-items: center; gap: 8px; padding: 8px 16px; border-bottom: 1px solid #eee; background: #fafafa; }
    .toolbar a { color: var(--brand); text-decoration: none; font-size: .95rem; }
    .toolbar a:hover { text-decoration: underline; }
    /* Make ReDoc friendlier for RTL */
    redoc, .redoc-wrap { direction: rtl; }
  </style>
  <!-- ReDoc via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/redoc@next/bundles/redoc.standalone.js"></script>
</head>
<body>
  <header>
    <h1>توثيق واجهة برمجة التطبيقات — Shahania School API</h1>
  </header>
  <div class="toolbar">
    <div class="container" style="display:flex;justify-content:space-between;">
      <div>
        <a href="../index.html">العودة إلى منصة الوثائق</a>
      </div>
      <div style="display:flex; gap:12px;">
        <a href="../backend/schema.yaml" download>تحميل ملف YAML</a>
        <a href="https://editor.swagger.io/?url=" target="_blank" id="open-swagger">فتح في Swagger Editor</a>
      </div>
    </div>
  </div>
  <div class="container">
    <redoc id="redoc-container"></redoc>
  </div>
  <script>
    // Set the Swagger Editor link to current schema location
    (function() {
      var schemaUrl = location.origin + location.pathname.replace(/\/DOC\/.*$/, '') + '/backend/schema.yaml';
      document.getElementById('open-swagger').href = 'https://editor.swagger.io/?url=' + encodeURIComponent(schemaUrl);
      // Initialize ReDoc
      Redoc.init('../backend/schema.yaml', {
        hideDownloadButton: false,
        expandResponses: '200,201',
        requiredPropsFirst: true,
        pathInMiddlePanel: true,
        theme: {
          typography: { fontFamily: 'NotoKufiArabic, Segoe UI, Tahoma, Arial, sans-serif' },
          colors: { primary: { main: '#6e0303' } }
        }
      }, document.getElementById('redoc-container'));
    })();
  </script>
</body>
</html>
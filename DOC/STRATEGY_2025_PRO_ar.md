# الخطة الاستراتيجية الشاملة 2025 — مدرسة الشحّانية (نسخة Markdown)

> هذه النسخة النصية تلخّص وتكمّل وثيقة HTML: `DOC/Strategic_Plan_Shahania_2025_RTL.html`. صيغت للاطلاع السريع داخل GitHub وكمصدر للطباعة أو التحويل إلى PDF لاحقًا.

---

## 1) الرؤية والقيمة
- منصة مدرسية عربية موحّدة، آمنة، قابلة للتوسع، بدعم RTL كامل.
- تحويل بيانات اليوم الدراسي (حضور/درجات/تنبيهات) إلى قرارات عبر لوحات مؤشرات تقود الأداء.

## 2) المبادئ المرجعية
- البساطة أولًا ثم القابلية للتوسع.
- الأمن بالتصميم، والمراقبة بالافتراض.
- وصول شامل (WCAG 2.1 AA) ودعم RTL في كل طبقة.
- Modular Monolith وفق DDD/TOGAF مع إمكان التجزئة لاحقًا.
- أتمتة: CI/CD وفحوصات جودة وأمن إلزامية قبل الإطلاق.

## 3) الأهداف والنتائج (OKRs)
- الهدف 1: تسليم MVP خلال 12 أسبوعًا.
  - CRUD أساسية + JWT + RBAC موثقة في Swagger/OpenAPI.
  - لوحة RTL بمؤشرين (حضور/درجات) + تصدير PDF/CSV/JSON.
  - P95 ≤ 300ms للواجهات الحرجة.
- الهدف 2: تعزيز الأمن والموثوقية.
  - 0 ثغرات حرجة في فحوصات الأمن.
  - تغطية اختبارات ≥ 70% للوحدات الحرجة.
  - RPO ≤ 24h وRTO ≤ 4h لخطة النسخ الاحتياطي.
- الهدف 3: الجاهزية للتوسع والحوكمة.
  - مراقبة (APM + Logs + Metrics) بتنبيهات.
  - RACI واضح ولجان توجيه شهرية.

## 4) النطاق وخارجه
- في النطاق (عام 1): Django/DRF + PostgreSQL، RBAC، استيراد/تصدير، قوالب RTL + صفحة موحّدة، مراقبة وأمن أساسيان.
- خارج النطاق: SPA وتطبيق جوّال وSSO/OIDC إلا بطلب صريح؛ تُرحّل للمرحلة التالية.

## 5) الحوكمة والمسؤوليات (RACI + Cadence)
- اجتماعات: أسبوعية للتسليم وشهرية للتوجيه.
- RACI مختصر:
  - Backend/DB: نماذج، API، RBAC، النسخ الاحتياطي.
  - Frontend: قوالب، الرسوم، التصدير.
  - QA/Docs: اختبارات وتوثيق.
  - المالك/الإدارة: اعتماد وإحاطة.
- التغييرات المعمارية الجوهرية تتطلب RFC داخلي وموافقة لجنة.

## 6) الاستراتيجية المعمارية (Target Architecture)
- Modular Monolith (Django/DRF) بطبقات: Domain · Application · API · Infra.
- PostgreSQL + فهارس + سياسات أرشفة/احتفاظ.
- التكامل: RESTful + UUID Keys + JSONB عند الحاجة.
- المراقبة: Sentry/ELK + Prometheus/Grafana حسب البيئة.

## 7) الأمن والخصوصية
- JWT (SimpleJWT) + RBAC (Scopes + Constraints).
- كلمات المرور: Argon2id/Bcrypt، تدوير المفاتيح، قصر عمر الرموز.
- الحماية: Rate limiting، CORS/CSRF، CSP، X-Frame-Options، HSTS (إنتاج).
- الخصوصية: تصنيف البيانات (عام/داخلي/سري)، إخفاء الهوية في النسخ.
- النسخ الاحتياطي: pg_dump ليلي + اختبارات استعادة ربع سنوية.

## 8) استراتيجية البيانات
- نمذجة: Users/Students/Staff/Classes/Subjects/Enrollments/Attendance/Grades.
- مفاتيح UUID، استخدام JSONB، فهارس على الأعمدة الحرجة.
- جودة: تحقق إدخال، تتبع أخطاء، سياسة ملكية بيانات لكل جدول.

## 9) الجودة والاختبارات
- Unit + Integration + E2E مبسّط للمسارات الحرجة.
- أدوات: ruff/black/isort/pytest، تقارير تغطية، فحوصات أمن (Bandit/Trivy).
- تعريف DoD موحد.

## 10) DevOps/CI-CD
- فروع Git: main (محمي) · develop · feature/*
- بايبلاين: Lint → Test → Security Scan → Package → Deploy (staging) → Smoke → Prod.
- إدارة الأسرار: .env عبر مدير أسرار ومنع التسريبات.

## 11) UX/RTL/Accessibility
- RTL افتراضيًا، خطوط عربية محلية (NotoKufi/Amiri)، تباين WCAG AA، دعم لوحة المفاتيح والقرّاء.

## 12) خارطة الطريق (12 شهرًا)
- 1: تأسيس المشروع، الإعدادات، خطوط CI، معايير الكود.
- 2–3: CRUD + JWT + RBAC + استيراد/تصدير + لوحة RTL.
- 4–6: حضور/درجات، تقارير PDF/Excel، مراقبة وأمان.
- 7–9: تحسين الأداء، إدارة الملفات، لوحات إدارة بسيطة.
- 10–12: UAT موسّع، تحسين UX، استعداد لـ SPA اختيارية.

## 13) KPIs & SLO/SLAs
- أداء: P95 ≤ 300ms · أخطاء API ≤ 0.5%
- موثوقية: 99.9% توافر شهري
- جودة: ≥70% تغطية للوحدات الحرجة · 0 ثغرات حرجة
- تسليم: الالتزام بالمعالم ≥ 90% · MTTR ≤ 4h

## 14) سجل المخاطر (مختصر)
- اعتماد على CDN → خطة: نسخ محلية/Bundling.
- حساسية بيانات Excel → خطة: عينات مجهولة وتقييد الوصول.
- محدودية الموارد → خطة: تركيز MVP وتأجيل SPA.

## 15) معايير النجاح
- استيفاء OKRs + DoD، ورضا أصحاب المصلحة ≥ 8/10 في UAT.

## 16) الخطة التنفيذية المختصرة (8 أسابيع)
1. الأسبوع 1: Django + PostgreSQL + Models + Basic API.
2. الأسبوع 2: JWT + RBAC + ربط القوالب.
3. الأسبوع 3: استيراد Excel (طلاب/موظفون) مع Validation.
4. الأسبوع 4: Attendance + Grades API + Charts.
5. الأسبوع 5: تقارير (PDF/DOCX/Excel) + مركز تصدير.
6. الأسبوع 6: Testing + Security Hardening + Audit Log.
7. الأسبوع 7: Deployment + CI/CD + Backup/Restore.
8. الأسبوع 8: UAT + إصلاحات + توثيق نهائي.

## 17) ابدأ الآن (Quick Start)
- من جذر المشروع:
  - `cp backend/.env.example backend/.env`
  - `./scripts/dev_up.ps1`
- افتح: `/loads/`, `/loads/matrix/`, `/admin/`
- إن تعذّر PDF عبر WeasyPrint على ويندوز: `pip install reportlab>=4.0 arabic-reshaper python-bidi`

— آخر تحديث: {{today}}
{% extends "_base_maronia.html" %}
{% load static %}
{% block title %}واجهة الإشراف الطلابي{% endblock %}
{% block extra_head %}
<style>
  :root{
    --portal-accent: var(--bs-primary, #0d6efd);
    --portal-card-bg: rgba(255,255,255,.78);
    --portal-card-bd: rgba(0,0,0,.08);
    --portal-card-shadow: 0 6px 18px rgba(0,0,0,.08);
    --portal-card-shadow-hover: 0 18px 40px rgba(0,0,0,.16);
  }
  body.portal-bg::before{
    content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
    background:
      linear-gradient(to bottom right, rgba(20,20,20,.35), rgba(20,20,20,.25)),
      url('{% static "img/portal_bg.png" %}') center/cover no-repeat;
    will-change: transform;
  }
  .icon-grid{ display:grid; gap:1.25rem; grid-template-columns:repeat(2,minmax(0,1fr)); align-items:stretch; }
  @media (min-width:576px){ .icon-grid{ grid-template-columns:repeat(3,1fr); } }
  @media (min-width:768px){ .icon-grid{ grid-template-columns:repeat(4,1fr); } }
  @media (min-width:992px){ .icon-grid{ grid-template-columns:repeat(5,1fr); } }
  @media (min-width:1200px){ .icon-grid{ grid-template-columns:repeat(7,1fr); } }
  .icon-grid > [class*="col-"]{ display:contents; }
  .icon-grid a{ text-decoration:none; color:inherit; }
  .icon-grid .card{ width:100%; aspect-ratio:1/1; display:flex; border-radius:18px; border:1px solid var(--portal-card-bd); background:var(--portal-card-bg); backdrop-filter: blur(6px) saturate(1.05); box-shadow:var(--portal-card-shadow); transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background-color .18s ease; }
  .icon-grid .card.card-hover:hover{ transform:translateY(-8px); box-shadow:var(--portal-card-shadow-hover); border-color:rgba(0,0,0,.14); }
  .icon-grid a:focus-visible .card{ outline:2px solid var(--portal-accent); outline-offset:2px; }
  @media (prefers-reduced-motion: reduce){ .icon-grid .card, .icon-grid .card.card-hover:hover{ transition:none; transform:none; } }
  .icon-grid .card-body{ display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:1.1rem; }
  .icon-grid .anim-icon{ font-size:44px; line-height:1; margin-bottom:.55rem; color:var(--portal-accent); }
  .icon-grid .fw-bold{ font-size:1.05rem; letter-spacing:.1px; line-height:1.3; }
  .icon-grid .text-muted.small{ font-size:.94rem; opacity:.96; line-height:1.45; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
</style>
<script>
  document.addEventListener('DOMContentLoaded', function(){ document.body.classList.add('portal-bg'); });
</script>
{% endblock %}
{% block content %}
<div class="container py-3">
  <div class="d-flex align-items-center justify-content-between mb-3 page-header">
    <div>
      <h1 class="h5 mb-1">مرحباً {{ staff.full_name|default:request.user.username }}</h1>
      <div class="text-muted small">متابعة الانضباط والغياب وروابط سريعة</div>
    </div>
  </div>

  <div class="icon-grid" data-aos="fade-up">
    <div class="col">
      <a class="text-decoration-none" href="{% url 'data_overview' %}">
        <div class="card card-hover h-100">
          <div class="card-body">
            <i class="bi bi-people anim-icon"></i>
            <div class="fw-bold">مراقبة الغياب</div>
            <div class="text-muted small">قريباً: عرض الغياب اليومي حسب الصف والحصة</div>
          </div>
        </div>
      </a>
    </div>

    <div class="col">
      <a class="text-decoration-none" href="{% url 'teacher_week_matrix' %}">
        <div class="card card-hover h-100">
          <div class="card-body">
            <i class="bi bi-journal-check anim-icon"></i>
            <div class="fw-bold">التقارير</div>
            <div class="text-muted small">تحميل تقارير مخصصة قيد التطوير</div>
          </div>
        </div>
      </a>
    </div>
  </div>
</div>
{% endblock %}

{% extends "admin/base_site.html" %}
{% load i18n %}

{#
  Admin base override to add a simple language switcher in the header.
  Relies on core.urls exposing path('i18n/', include('django.conf.urls.i18n')).
#}

{% block usertools %}
  {{ block.super }}
  {% get_current_language as CURRENT_LANG %}
  <form action="{% url 'set_language' %}" method="post" style="display:inline-flex; align-items:center; gap:4px; margin-inline-start:8px;">
    {% csrf_token %}
    <input name="next" type="hidden" value="{{ request.get_full_path }}">
    <label for="admin-lang" class="visually-hidden">{% trans "اللغة" %}</label>
    <select id="admin-lang" name="language" class="language-selector">
      <option value="ar">العربية</option>
      <option value="en">English</option>
    </select>
    <button type="submit" class="button" style="padding:2px 6px;">{% trans "تبديل" %}</button>
  </form>
  <style>
    .visually-hidden { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .language-selector { height:24px; }
  </style>
{% endblock %}

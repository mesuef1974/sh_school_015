<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="منصة وثائق عربية تسرد ملفات وصور وروابط المستودع تلقائيًا.">
  <title>منصة الوثائق</title>
  <link rel="icon" href="/static/img/favicon.ico">
  <style>
    :root {
      --brand: #6e0303;
      --brand-ink: #ffffff;
      --bg: #f7f7f9;
      --card: #ffffff;
      --ink: #222;
      --muted: #555;
      --border: #eee;
    }
    @font-face {
      font-family: 'NotoKufiArabic';
      src: url('/static/fonts/ArbFonts.com/ArbFONTS-NotoKufiArabic-VariableFont_wght.ttf') format('truetype');
      font-weight: 100 900;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Amiri';
      src: url('/static/fonts/Amiri/Amiri-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      font-family: 'NotoKufiArabic', system-ui, -apple-system, "Segoe UI", Tahoma, Arial,
                   "Amiri", sans-serif;
      margin: 0; background: var(--bg); color: var(--ink);
    }
    header { background: var(--brand); color: var(--brand-ink); padding: 16px; }
    header .brand { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
    header img { height: 40px; }
    header h1 { margin: 0; font-size: 1.25rem; font-weight: 700; }
    main { width: 100%; margin: 0; background: var(--card); padding: 24px; border-radius: 0;
           box-shadow: 0 2px 10px rgba(0,0,0,0.06); }
    h2 { margin: 0 0 12px; font-size: 1.15rem; }
    p { margin: 0 0 8px; }
    .muted { color: var(--muted); font-size: 0.95rem; }
    .divider { height: 1px; background: var(--border); margin: 16px 0; }
    ul { line-height: 1.9; margin: 0; padding-inline-start: 20px; }
    a { color: var(--brand); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .badges { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 6px; }
    .badge { background: #f1e6ee; color: #4c1238; padding: 4px 8px; border-radius: 999px; font-size: 0.78rem; }
    details { background: #faf7f9; border: 1px solid var(--border); border-radius: 8px; margin: 10px 0; padding: 8px 12px; }
    summary { cursor: pointer; font-weight: 700; color: #4c1238; }
    .meta { color: var(--muted); font-size: 0.85rem; }
    footer { width: 100%; margin: 12px 0; color: var(--muted); font-size: 0.9rem; padding: 0 12px; }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <img src="/static/img/logo.png" alt="الشعار" onerror="this.style.display='none';" />
      <img src="/static/img/school_name.png" alt="اسم المدرسة" onerror="this.style.display='none';" />
      <h1>منصة الوثائق</h1>
    </div>
  </header>
  <main>
    <section>
      <h2>ما الذي يتوفر في المنصة؟</h2>
      <p class="muted">تجد أدناه قائمة بالملفات والوثائق المتاحة داخل هذا المستودع.</p>
      <div class="badges">
        <span class="badge">اتجاه RTL</span>
        <span class="badge">عربي</span>
        <span class="badge">روابط مباشرة للوثائق</span>
        <span class="badge">واجهات أمامية</span>
      </div>
    </section>
    <div class="divider"></div>

    <section>
      <h2>الواجهات الأمامية (Frontend)</h2>
      <p class="muted">هذه القوالب الأمامية تعمل باتجاه RTL ومهيأة للعربية. للعرض الكامل كصفحات ديناميكية، شغّل الخادم الخلفي عبر السكربت <code>scripts/serve.ps1</code> ثم افتح المتصفح على العنوان الذي يظهر لك.</p>
      <ul>
        <li><a href="/loads/" target="_blank" rel="noopener">لوحة: أحمال المعلمين</a></li>
        <li><a href="/data/" target="_blank" rel="noopener">نظرة عامة على البيانات</a></li>
        <li><a href="/DOC/Unified_Maroon_RTL.html" target="_blank" rel="noopener">دليل التصميم الموحّد RTL</a></li>
      </ul>
    </section>

    <section>
      <h2>واجهات برمجة التطبيقات (API)</h2>
      <p class="muted">عرض احترافي لملف YAML الخاص بـ OpenAPI.</p>
      <ul>
        <li><a href="/DOC/OpenAPI_RTL.html" target="_blank" rel="noopener">فتح توثيق API (عرض احترافي)</a></li>
        <li><a href="/api/" target="_blank" rel="noopener">استكشاف API (DRF)</a> <span class="meta">— قد تحتاج لتسجيل الدخول</span></li>
        <li><a href="/api-auth/login/?next=/api/" target="_blank" rel="noopener">تسجيل الدخول لاستعراض API</a></li>
        <li><a href="/api/token/" target="_blank" rel="noopener">الحصول على رمز JWT (token)</a></li>
      </ul>
    </section>

    <div class="divider"></div>
    <section>
      <h2>المحتوى المتاح</h2>
      <!-- AUTO_LIST_START -->
      <details open>
        <summary>assets</summary>
        <ul>
          <li><a href="assets/img/favicon.ico" target="_blank" rel="noopener">assets/img/favicon.ico</a> <span class="meta">— حجم: 17.6 KB • آخر تعديل: 2025-10-01 20:38</span></li>
          <li><a href="assets/img/logo.png" target="_blank" rel="noopener">assets/img/logo.png</a> <span class="meta">— حجم: 1010.1 KB • آخر تعديل: 2025-10-01 20:38</span></li>
          <li><a href="assets/img/QATAR_Flag.png" target="_blank" rel="noopener">assets/img/QATAR_Flag.png</a> <span class="meta">— حجم: 28.5 KB • آخر تعديل: 2025-10-01 20:38</span></li>
          <li><a href="assets/img/school_name.png" target="_blank" rel="noopener">assets/img/school_name.png</a> <span class="meta">— حجم: 85.0 KB • آخر تعديل: 2025-10-01 20:38</span></li>
        </ul>
      </details>
      <details open>
        <summary>DOC</summary>
        <ul>
          <li><a href="DOC/OpenAPI_RTL.html" target="_blank" rel="noopener">DOC/OpenAPI_RTL.html</a> <span class="meta">— حجم: 3.8 KB • آخر تعديل: 2025-10-08 19:18</span></li>
          <li><a href="DOC/Strategic_Plan_Shahania_2025_RTL.html" target="_blank" rel="noopener">DOC/Strategic_Plan_Shahania_2025_RTL.html</a> <span class="meta">— حجم: 20.7 KB • آخر تعديل: 2025-10-02 22:19</span></li>
          <li><a href="DOC/Unified_Maroon_RTL.html" target="_blank" rel="noopener">DOC/Unified_Maroon_RTL.html</a> <span class="meta">— حجم: 67.3 KB • آخر تعديل: 2025-10-07 10:59</span></li>
          <li><a href="DOC/school_DATA/new_studants.xlsx" target="_blank" rel="noopener">DOC/school_DATA/new_studants.xlsx</a> <span class="meta">— حجم: 111.4 KB • آخر تعديل: 2025-10-06 19:22</span></li>
          <li><a href="DOC/school_DATA/schasual.xlsx" target="_blank" rel="noopener">DOC/school_DATA/schasual.xlsx</a> <span class="meta">— حجم: 3.4 MB • آخر تعديل: 2025-09-28 18:11</span></li>
          <li><a href="DOC/school_DATA/students_03.xlsx" target="_blank" rel="noopener">DOC/school_DATA/students_03.xlsx</a> <span class="meta">— حجم: 58.3 KB • آخر تعديل: 2025-10-06 18:42</span></li>
          <li><a href="DOC/school_DATA/stuff_03.xlsx" target="_blank" rel="noopener">DOC/school_DATA/stuff_03.xlsx</a> <span class="meta">— حجم: 26.7 KB • آخر تعديل: 2025-09-25 18:53</span></li>
          <li><a href="DOC/school_DATA/teacher_mapping.csv" target="_blank" rel="noopener">DOC/school_DATA/teacher_mapping.csv</a> <span class="meta">— حجم: 7.0 KB • آخر تعديل: 2025-10-06 07:56</span></li>
          <li><a href="DOC/school_DATA/time_table.pdf" target="_blank" rel="noopener">DOC/school_DATA/time_table.pdf</a> <span class="meta">— حجم: 325.7 KB • آخر تعديل: 2025-10-06 07:56</span></li>
          <li><a href="DOC/school_DATA/time_table.png" target="_blank" rel="noopener">DOC/school_DATA/time_table.png</a> <span class="meta">— حجم: 690.5 KB • آخر تعديل: 2025-10-03 14:38</span></li>
          <li><a href="DOC/school_DATA/%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84%20%D8%A7%D9%84%D8%B9%D8%A7%D9%85.pdf" target="_blank" rel="noopener">DOC/school_DATA/الجدول العام.pdf</a> <span class="meta">— حجم: 338.9 KB • آخر تعديل: 2025-10-05 20:14</span></li>
          <li><a href="DOC/school_DATA/%D8%A7%D9%84%D8%B4%D8%B9%D8%A8.pdf" target="_blank" rel="noopener">DOC/school_DATA/الشعب.pdf</a> <span class="meta">— حجم: 503.2 KB • آخر تعديل: 2025-10-05 20:14</span></li>
          <li><a href="DOC/school_DATA/%D8%A7%D9%84%D9%85%D8%B9%D9%84%D9%85%D9%88%D9%86.pdf" target="_blank" rel="noopener">DOC/school_DATA/المعلمون.pdf</a> <span class="meta">— حجم: 365.6 KB • آخر تعديل: 2025-10-05 20:14</span></li>
          <li><a href="DOC/school_DATA/%D9%82%D9%8A%D9%88%D8%AF%20%D8%A7%D9%84%D8%AC%D8%AF%D9%88%D9%84.docx" target="_blank" rel="noopener">DOC/school_DATA/قيود الجدول.docx</a> <span class="meta">— حجم: 118.3 KB • آخر تعديل: 2025-10-08 19:59</span></li>
        </ul>
      </details>
<!-- AUTO_LIST_END -->
    </section>
  </main>
  <footer>
    <span>آخر تحديث يتم توليده تلقائيًا عند تشغيل السكربت.</span>
  </footer>
  <script>
    // Hide raw Django template source files from the auto list if present in this static page
    (function () {
      try {
        var listSection = document.querySelector('section');
        // Operate only inside the auto list area
        var autoStart = document.querySelector('!-- AUTO_LIST_START');
      } catch (e) {}
      // Fallback: simply scan all links and hide those pointing to backend/school/templates
      var links = document.querySelectorAll('a[href]');
      for (var i = 0; i < links.length; i++) {
        var a = links[i];
        if (a.getAttribute('href').indexOf('backend/school/templates/') === 0) {
          var li = a.closest('li') || a;
          if (li) {
            // Replace with a friendly hint pointing to dynamic routes
            var hint = document.createElement('span');
            hint.className = 'meta';
            hint.textContent = '— هذه ملفات قوالب Django ولا تُعرض مباشرة. استخدم الروابط العلوية: البيانات / الجداول / الأنصبة / التقويم.';
            // Keep the filename but disable link
            var nameSpan = document.createElement('span');
            nameSpan.textContent = a.textContent;
            li.innerHTML = '';
            li.appendChild(nameSpan);
            li.appendChild(document.createTextNode(' '));
            li.appendChild(hint);
          } else {
            a.remove();
          }
        }
      }
    })();
  </script>
  <script>
    // Dev convenience: if this page is opened via JetBrains' built-in server (e.g., 63342) or file://,
    // rewrite dynamic app links to the Django dev server so they don't 404 on the static server.
    (function(){
      try {
        var proto = window.location.protocol;
        var host = window.location.hostname || 'localhost';
        var port = window.location.port;
        var qs = new URLSearchParams(window.location.search);
        var override = qs.get('backend'); // allow manual override like ?backend=127.0.0.1:9000
        var defaultBase = 'http://127.0.0.1:8000';
        var base = override ? (override.match(/^https?:\/\//) ? override : ('http://' + override)) : defaultBase;
        var nonDjango = (proto === 'file:') || (host === 'localhost' && port && port !== '8000') || (host === '127.0.0.1' && port && port !== '8000');
        if (!nonDjango) return; // likely running under Django already
        var dynamicPrefixes = ['/timetable', '/loads', '/calendar', '/data', '/api'];
        var skipPrefixes = ['/static', '/DOC'];
        var anchors = document.querySelectorAll('a[href]');
        anchors.forEach(function(a){
          var href = a.getAttribute('href');
          if (!href) return;
          // Skip absolute external links
          if (/^https?:\/\//i.test(href)) return;
          // Skip in-page anchors
          if (href[0] === '#') return;
          // Only process absolute-path app routes starting with '/'
          if (href[0] !== '/') return;
          for (var s=0; s<skipPrefixes.length; s++) {
            if (href.indexOf(skipPrefixes[s] + '/') === 0 || href === skipPrefixes[s] + '/') return;
          }
          var matches = false;
          for (var i=0; i<dynamicPrefixes.length; i++) {
            if (href.indexOf(dynamicPrefixes[i] + '/') === 0 || href === dynamicPrefixes[i] + '/') { matches = true; break; }
          }
          if (matches) {
            a.setAttribute('href', base + href);
            a.setAttribute('target', a.getAttribute('target') || '_blank');
            a.setAttribute('rel', (a.getAttribute('rel') || 'noopener'));
          }
        });
      } catch(e) { /* noop */ }
    })();
  </script>
</body>
</html>